# Tasks: 微信小程序场馆预约与停车登记系统

## 1. 项目初始化
- [x] 1.1 创建微信小程序项目（使用微信开发者工具）
- [x] 1.2 配置云开发环境
- [x] 1.3 设置项目基础结构（pages、components、utils、cloudfunctions）
- [x] 1.4 配置 app.json（页面路由、tabBar、权限）
- [x] 1.5 创建全局样式和工具函数

## 2. 数据库设计与创建
- [x] 2.1 创建 users 集合（用户信息）
- [x] 2.2 创建 venues 集合（场馆信息）
- [x] 2.3 创建 bookings 集合（预约记录）
- [x] 2.4 创建 parking_records 集合（停车登记记录）
- [x] 2.5 创建 parking_config 集合（车位配置）
- [x] 2.6 设置集合权限规则

## 3. 用户认证模块
- [x] 3.1 实现微信授权登录云函数
- [x] 3.2 创建用户登录页面/组件
- [x] 3.3 实现静默登录逻辑
- [x] 3.4 创建个人中心页面
- [x] 3.5 实现登录态管理（存储、校验、刷新）
- [x] 3.6 实现角色判断逻辑（普通用户/管理员）

## 4. 场馆预约模块
- [x] 4.1 创建场馆列表页面
- [x] 4.2 实现场馆列表云函数（查询、分类）
- [x] 4.3 创建场馆详情页面
- [x] 4.4 实现时段可用性查询
- [x] 4.5 创建预约确认页面
- [x] 4.6 实现预约提交云函数（含并发校验）
- [x] 4.7 创建我的预约列表页面
- [x] 4.8 实现取消预约功能

## 5. 停车登记模块
- [x] 5.1 创建访客车辆登记页面
- [x] 5.2 实现车牌号格式校验
- [x] 5.3 创建车位预约页面
- [x] 5.4 实现车位状态查询云函数
- [x] 5.5 实现车位预约云函数
- [x] 5.6 创建进出记录确认功能
- [x] 5.7 创建停车记录查询页面
- [x] 5.8 实现登记凭证二维码生成

## 6. 管理员模块
- [x] 6.1 创建管理员首页
- [x] 6.2 创建场馆管理页面（增删改查）
- [x] 6.3 创建预约管理页面（查看、审核、取消）
- [x] 6.4 创建停车管理页面（记录查询、手动登记、进出确认）
- [x] 6.5 实现管理员权限校验

## 7. UI/UX 完善
- [x] 7.1 设计统一的视觉风格
- [x] 7.2 创建公共组件（列表项、卡片、弹窗等）
- [x] 7.3 添加加载状态和空状态提示
- [x] 7.4 优化表单交互体验
- [x] 7.5 适配不同屏幕尺寸

## 8. 测试与发布
- [ ] 8.1 功能测试（各模块完整流程）
- [ ] 8.2 边界条件测试（并发预约、权限校验等）
- [ ] 8.3 兼容性测试（不同微信版本、机型）
- [ ] 8.4 准备小程序审核材料
- [ ] 8.5 提交审核并发布

## Dependencies
- Task 3 (用户认证) 是 Task 4, 5, 6 的前置依赖
- Task 2 (数据库) 是所有功能模块的前置依赖
- Task 4, 5 可并行开发
- Task 6 依赖 Task 4, 5 完成后进行集成

## Notes
- 首版不实现支付功能
- 管理员通过数据库直接设置
- 停车进出暂不对接闸机，支持手动确认
