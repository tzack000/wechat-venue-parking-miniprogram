<!-- pages/admin/bookings/bookings.wxml -->
<view class="container">
  <!-- çŠ¶æ€ç­›é€‰ -->
  <scroll-view class="status-filter" scroll-x enable-flex>
    <view 
      class="status-item {{currentStatus === item.value ? 'active' : ''}}"
      wx:for="{{statusTabs}}"
      wx:key="value"
      bindtap="onStatusChange"
      data-status="{{item.value}}"
    >
      {{item.label}}
    </view>
  </scroll-view>

  <!-- é¢„çº¦åˆ—è¡¨ -->
  <view class="booking-list">
    <view 
      class="booking-item card"
      wx:for="{{bookings}}"
      wx:key="_id"
    >
      <view class="booking-header">
        <view class="venue-name">{{item.venueName}}</view>
        <view class="booking-status {{item.statusClass}}">{{item.statusText}}</view>
      </view>
      
      <view class="booking-info">
        <view class="info-row">
          <text class="info-label">é¢„çº¦æ—¥æœŸ</text>
          <text class="info-value">{{item.date}}</text>
        </view>
        <view class="info-row">
          <text class="info-label">é¢„çº¦æ—¶æ®µ</text>
          <text class="info-value">{{item.startTime}} - {{item.endTime}}</text>
        </view>
        <view class="info-row">
          <text class="info-label">é¢„çº¦äºº</text>
          <text class="info-value">{{item.userName}}</text>
        </view>
        <view class="info-row">
          <text class="info-label">è”ç³»ç”µè¯</text>
          <text class="info-value">{{item.userPhone}}</text>
        </view>
        <view class="info-row" wx:if="{{item.remark}}">
          <text class="info-label">å¤‡æ³¨</text>
          <text class="info-value">{{item.remark}}</text>
        </view>
      </view>
      
      <view class="booking-actions" wx:if="{{item.canApprove || item.canCancel}}">
        <view 
          class="action-btn approve" 
          wx:if="{{item.canApprove}}"
          bindtap="onApprove" 
          data-id="{{item._id}}"
        >
          é€šè¿‡
        </view>
        <view 
          class="action-btn reject" 
          wx:if="{{item.canReject}}"
          bindtap="onReject" 
          data-id="{{item._id}}"
        >
          æ‹’ç»
        </view>
        <view 
          class="action-btn cancel" 
          wx:if="{{item.canCancel && !item.canApprove}}"
          bindtap="onCancel" 
          data-id="{{item._id}}"
        >
          å–æ¶ˆ
        </view>
      </view>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-more" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <!-- æ²¡æœ‰æ›´å¤š -->
  <view class="no-more" wx:if="{{!hasMore && bookings.length > 0}}">
    <text>â€” æ²¡æœ‰æ›´å¤šäº† â€”</text>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{!loading && bookings.length === 0}}">
    <view class="empty-icon">ğŸ“‹</view>
    <view class="empty-text">æš‚æ— é¢„çº¦è®°å½•</view>
  </view>
</view>
