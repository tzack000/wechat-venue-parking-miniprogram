<!-- pages/parking/register/register.wxml -->
<view class="container">
  <!-- è½¦ä½çŠ¶æ€ -->
  <view class="parking-status card" wx:if="{{parkingStatus}}">
    <view class="status-item">
      <view class="status-value">{{parkingStatus.totalSpaces}}</view>
      <view class="status-label">æ€»è½¦ä½</view>
    </view>
    <view class="status-divider"></view>
    <view class="status-item">
      <view class="status-value text-success">{{parkingStatus.availableSpaces}}</view>
      <view class="status-label">ç©ºé—²</view>
    </view>
    <view class="status-divider"></view>
    <view class="status-item">
      <view class="status-value text-warning">{{parkingStatus.usedSpaces}}</view>
      <view class="status-label">å·²å ç”¨</view>
    </view>
  </view>

  <!-- å¿«æ·å…¥å£ -->
  <view class="quick-actions">
    <view class="action-item" bindtap="goToReserve">
      <view class="action-icon">ğŸ…¿ï¸</view>
      <view class="action-text">è½¦ä½é¢„çº¦</view>
    </view>
    <view class="action-item" bindtap="goToRecords">
      <view class="action-icon">ğŸ“</view>
      <view class="action-text">åœè½¦è®°å½•</view>
    </view>
  </view>

  <!-- è®¿å®¢ç™»è®°è¡¨å• -->
  <view class="register-form card">
    <view class="form-title">è®¿å®¢è½¦è¾†ç™»è®°</view>
    
    <view class="form-group">
      <view class="form-label">
        <text class="required">*</text>
        è½¦ç‰Œå·
      </view>
      <input 
        class="form-input plate-input" 
        placeholder="è¯·è¾“å…¥è½¦ç‰Œå·ï¼Œå¦‚ï¼šäº¬A12345" 
        value="{{plateNumber}}"
        bindinput="onPlateInput"
        maxlength="8"
      />
    </view>
    
    <view class="form-group">
      <view class="form-label">
        <text class="required">*</text>
        è®¿é—®ç›®çš„
      </view>
      <input 
        class="form-input" 
        placeholder="è¯·è¾“å…¥è®¿é—®ç›®çš„ï¼Œå¦‚ï¼šæ‹œè®¿æœ‹å‹" 
        value="{{purpose}}"
        bindinput="onPurposeInput"
        maxlength="50"
      />
    </view>
    
    <view class="form-group">
      <view class="form-label">é¢„è®¡åœç•™æ—¶é•¿</view>
      <picker 
        mode="selector" 
        range="{{durationOptions}}" 
        range-key="label"
        bindchange="onDurationChange"
      >
        <view class="form-picker">
          <text>{{durationOptions[expectedDuration === '1' ? 0 : (expectedDuration === '2' ? 1 : (expectedDuration === '4' ? 2 : (expectedDuration === '8' ? 3 : 4)))].label}}</text>
          <text class="picker-arrow">></text>
        </view>
      </picker>
    </view>
    
    <button 
      class="submit-btn" 
      bindtap="submitRegister"
      loading="{{submitting}}"
      disabled="{{submitting}}"
    >
      æäº¤ç™»è®°
    </button>
  </view>

  <!-- æç¤ºä¿¡æ¯ -->
  <view class="tips card">
    <view class="tips-title">æ¸©é¦¨æç¤º</view>
    <view class="tips-content">
      <view class="tip-item">1. è®¿å®¢è½¦è¾†è¯·å…ˆç™»è®°åå†å…¥åœº</view>
      <view class="tip-item">2. å…¥åœºæ—¶è¯·å‘ä¿å®‰å‡ºç¤ºç™»è®°å‡­è¯</view>
      <view class="tip-item">3. å¦‚éœ€é•¿æ—¶é—´åœè½¦ï¼Œå»ºè®®æå‰é¢„çº¦è½¦ä½</view>
      <view class="tip-item">4. ç™»è®°æœ‰æ•ˆæœŸä¸º2å°æ—¶ï¼Œè¿‡æœŸéœ€é‡æ–°ç™»è®°</view>
    </view>
  </view>
</view>
