<!-- pages/venue/list/list.wxml -->
<view class="container">
  <!-- ç±»å‹ç­›é€‰ -->
  <scroll-view class="type-filter" scroll-x enable-flex>
    <view 
      class="type-item {{currentType === item.value ? 'active' : ''}}"
      wx:for="{{venueTypes}}"
      wx:key="value"
      bindtap="onTypeChange"
      data-type="{{item.value}}"
    >
      {{item.label}}
    </view>
  </scroll-view>

  <!-- åœºé¦†åˆ—è¡¨ -->
  <view class="venue-list">
    <view 
      class="venue-item card"
      wx:for="{{venues}}"
      wx:key="_id"
      bindtap="goToDetail"
      data-id="{{item._id}}"
    >
      <view class="venue-image">
        <image 
          src="{{item.images[0] || '/images/venue-default.png'}}" 
          mode="aspectFill"
        ></image>
      </view>
      <view class="venue-content">
        <view class="venue-header">
          <view class="venue-name">{{item.name}}</view>
          <view class="venue-type tag tag-primary">{{item.typeIcon}} {{item.typeText}}</view>
        </view>
        <view class="venue-location text-hint">
          <text>ğŸ“ {{item.location}}</text>
        </view>
        <view class="venue-time text-hint">
          <text>ğŸ• {{item.openTime}} - {{item.closeTime}}</text>
        </view>
        <view class="venue-footer">
          <view class="venue-price">
            <text class="price-value">Â¥{{item.price}}</text>
            <text class="price-unit">/å°æ—¶</text>
          </view>
          <view class="book-btn">ç«‹å³é¢„çº¦</view>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-more" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <!-- æ²¡æœ‰æ›´å¤š -->
  <view class="no-more" wx:if="{{!hasMore && venues.length > 0}}">
    <text>â€” æ²¡æœ‰æ›´å¤šäº† â€”</text>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{!loading && venues.length === 0}}">
    <view class="empty-icon">ğŸŸï¸</view>
    <view class="empty-text">æš‚æ— å¯é¢„çº¦çš„åœºé¦†</view>
  </view>
</view>
